"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[57],{1415:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"commands/adapter","title":"How to Create an Adapter","description":"This guide explains how to use the vss-api-cli to generate an adapter for your project, following clean architecture principles.","source":"@site/docs/commands/adapter.md","sourceDirName":"commands","slug":"/commands/adapter","permalink":"/vss-api-cli/commands/adapter","draft":false,"unlisted":false,"editUrl":"https://github.com/your-username/vss-ol-cli/tree/main/doc/docs/commands/adapter.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"How to Create a Service","permalink":"/vss-api-cli/commands/service"},"next":{"title":"How to Configure vss-api-cli","permalink":"/vss-api-cli/configuration"}}');var t=n(4848),i=n(8453);const a={sidebar_position:5},o="How to Create an Adapter",d={},c=[{value:"Steps",id:"steps",level:2},{value:"Using Zod DTOs in Adapters",id:"using-zod-dtos-in-adapters",level:2},{value:"Steps to Use Zod DTOs",id:"steps-to-use-zod-dtos",level:3},{value:"Benefits of Using Zod DTOs",id:"benefits-of-using-zod-dtos",level:3}];function l(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"how-to-create-an-adapter",children:"How to Create an Adapter"})}),"\n",(0,t.jsxs)(s.p,{children:["This guide explains how to use the ",(0,t.jsx)(s.code,{children:"vss-api-cli"})," to generate an adapter for your project, following clean architecture principles."]}),"\n",(0,t.jsx)(s.h2,{id:"steps",children:"Steps"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Run the Command"}),"\nUse the following command to create an adapter:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"vss-api-cli create:adapter <name> [options]\n# or\nvss-api-cli ca <name> [options]\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Options"}),"\nCustomize the adapter generation using these options:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"-p, --path <outputPath>"}),": Specify a custom output path for the adapter."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"-t, --type <adapterType>"}),": Specify the adapter type (e.g., ",(0,t.jsx)(s.code,{children:"repository"}),", ",(0,t.jsx)(s.code,{children:"rest"}),", ",(0,t.jsx)(s.code,{children:"graphql"}),")."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"-d, --domain <domainName>"}),": Specify the domain name the adapter belongs to."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"-y, --yes"}),": Skip prompts and use default options."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example"}),"\nTo create a repository adapter for the ",(0,t.jsx)(s.code,{children:"user"})," domain:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"vss-api-cli create:adapter userRepository --type repository --domain user\n"})}),"\n",(0,t.jsx)(s.p,{children:"To create a REST adapter with a custom path:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"vss-api-cli create:adapter userRestAdapter --type rest --path src/adapters/rest\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Generated Structure"}),"\nThe command generates the following structure:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"src/\n\u251c\u2500\u2500 user/\n\u2502   \u251c\u2500\u2500 ports/\n\u2502   \u2502   \u2514\u2500\u2500 UserRepositoryPort.ts\n\u2514\u2500\u2500 infra/\n    \u2514\u2500\u2500 repository/\n        \u2514\u2500\u2500 UserRepositoryAdapter.ts\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"using-zod-dtos-in-adapters",children:"Using Zod DTOs in Adapters"}),"\n",(0,t.jsxs)(s.p,{children:["Adapters often require data validation and transformation. The ",(0,t.jsx)(s.code,{children:"vss-api-cli"})," supports generating Zod DTOs (Data Transfer Objects) to simplify this process."]}),"\n",(0,t.jsx)(s.h3,{id:"steps-to-use-zod-dtos",children:"Steps to Use Zod DTOs"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Generate the Adapter"}),"\nWhen creating an adapter, include the ",(0,t.jsx)(s.code,{children:"--schema"})," option to generate Zod DTOs:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"vss-api-cli create:adapter userRepository --type repository --domain user --schema\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Generated Zod DTOs"}),"\nThe command generates Zod schemas alongside the adapter. For example:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"src/\n\u251c\u2500\u2500 infra/\n\u2502   \u2514\u2500\u2500 repository/\n\u2502       \u251c\u2500\u2500 UserRepositoryAdapter.ts\n\u2502       \u2514\u2500\u2500 UserRepositorySchema.ts\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Using the Zod DTOs"}),"\nImport the Zod schema in your adapter to validate and transform data:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"import { UserRepositorySchema } from './UserRepositorySchema';\n\nexport class UserRepositoryAdapter {\n    save(data: unknown) {\n        const validatedData = UserRepositorySchema.parse(data);\n        // Use validatedData for further processing\n    }\n}\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Customizing Zod DTOs"}),"\nYou can modify the generated Zod schemas to fit your specific requirements. For example:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"import { z } from 'zod';\n\nexport const UserRepositorySchema = z.object({\n    id: z.string().uuid(),\n    name: z.string().min(1),\n    email: z.string().email(),\n});\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"benefits-of-using-zod-dtos",children:"Benefits of Using Zod DTOs"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Validation"}),": Ensure data integrity by validating inputs."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Transformation"}),": Automatically transform data into the required format."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Type Safety"}),": Leverage TypeScript types generated from Zod schemas."]}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>o});var r=n(6540);const t={},i=r.createContext(t);function a(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);